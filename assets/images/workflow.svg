<svg width="800" height="300" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
  <!-- Background with subtle pulse -->
  <rect width="800" height="300" fill="#16213e" fill-opacity="0.3" rx="10" ry="10">
    <animate attributeName="fill-opacity" values="0.3;0.4;0.3" dur="10s" repeatCount="indefinite" />
  </rect>
  
  <!-- Title with glow effect -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#ffffff" text-anchor="middle">
    Analysis Workflow
    <animate attributeName="fill" values="#ffffff;#e2e2e2;#ffffff" dur="5s" repeatCount="indefinite" />
  </text>
  
  <!-- Sequential highlight/activation animation -->
  <animateTransform id="activeStep1" attributeName="transform" type="scale" 
    values="0;1" dur="2s" begin="0s" fill="freeze" />
  <animateTransform id="activeStep2" attributeName="transform" type="scale" 
    values="0;1" dur="2s" begin="activeStep1.end" fill="freeze" />
  <animateTransform id="activeStep3" attributeName="transform" type="scale" 
    values="0;1" dur="2s" begin="activeStep2.end" fill="freeze" />
  <animateTransform id="activeStep4" attributeName="transform" type="scale" 
    values="0;1" dur="2s" begin="activeStep3.end" fill="freeze" />
  <animateTransform id="activeStep5" attributeName="transform" type="scale" 
    values="0;1" dur="2s" begin="activeStep4.end" fill="freeze" />
  <animateTransform id="resetAll" attributeName="transform" type="scale" 
    values="1;1" dur="5s" begin="activeStep5.end" fill="freeze" />
  
  <!-- Step 1: Data Acquisition with pulsing effect -->
  <g>
    <circle cx="120" cy="130" r="50" fill="#f72585" fill-opacity="0.2" stroke="#f72585" stroke-width="2">
      <animate attributeName="fill-opacity" values="0.2;0.4;0.2" dur="2s" repeatCount="indefinite" begin="0s" />
      <animate attributeName="r" values="50;52;50" dur="2s" repeatCount="indefinite" begin="0s" />
    </circle>
    <text x="120" y="120" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Data</text>
    <text x="120" y="140" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Acquisition</text>
    
    <!-- Step 1 Icon: Dynamic measurement animation -->
    <g transform="translate(100, 110)">
      <rect x="0" y="0" width="40" height="25" fill="none" stroke="#f72585" stroke-width="1.5" rx="2" ry="2" />
      <line x1="40" y1="5" x2="40" y2="20" stroke="#f72585" stroke-width="3" />
      <line x1="0" y1="12.5" x2="40" y2="12.5" stroke="#f72585" stroke-width="1" stroke-dasharray="2,2">
        <animate attributeName="x2" values="0;40;0;40" dur="4s" repeatCount="indefinite" />
      </line>
    </g>
  </g>
  
  <!-- Step 2: Signal Processing with wave animation -->
  <g>
    <circle cx="280" cy="130" r="50" fill="#7209b7" fill-opacity="0.2" stroke="#7209b7" stroke-width="2">
      <animate attributeName="fill-opacity" values="0.2;0.4;0.2" dur="2s" repeatCount="indefinite" begin="activeStep1.end" />
      <animate attributeName="r" values="50;52;50" dur="2s" repeatCount="indefinite" begin="activeStep1.end" />
    </circle>
    <text x="280" y="120" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Signal</text>
    <text x="280" y="140" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Processing</text>
    
    <!-- Step 2 Icon: Animated signal wave -->
    <g transform="translate(260, 110)">
      <path d="M0,20 Q10,0 20,20 Q30,40 40,20" stroke="#7209b7" stroke-width="2" fill="none">
        <animate attributeName="d" 
          values="M0,20 Q10,0 20,20 Q30,40 40,20;
                  M0,20 Q10,40 20,20 Q30,0 40,20;
                  M0,20 Q10,0 20,20 Q30,40 40,20" 
          dur="3s" repeatCount="indefinite" begin="activeStep1.end" />
      </path>
      <path d="M0,20 Q20,20 40,20" stroke="#7209b7" stroke-width="1" stroke-dasharray="2,2" fill="none" />
    </g>
  </g>
  
  <!-- Step 3: Impedance Analysis with dynamic circle -->
  <g>
    <circle cx="440" cy="130" r="50" fill="#4361ee" fill-opacity="0.2" stroke="#4361ee" stroke-width="2">
      <animate attributeName="fill-opacity" values="0.2;0.4;0.2" dur="2s" repeatCount="indefinite" begin="activeStep2.end" />
      <animate attributeName="r" values="50;52;50" dur="2s" repeatCount="indefinite" begin="activeStep2.end" />
    </circle>
    <text x="440" y="120" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Impedance</text>
    <text x="440" y="140" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Analysis</text>
    
    <!-- Step 3 Icon: Animated impedance plot -->
    <g transform="translate(420, 110)">
      <circle cx="20" cy="15" r="15" fill="none" stroke="#4361ee" stroke-width="2">
        <animate attributeName="r" values="15;14;15" dur="3s" repeatCount="indefinite" begin="activeStep2.end" />
      </circle>
      <path d="M10,15 Q15,5 20,15 Q25,25 30,15" stroke="#4361ee" stroke-width="2" fill="none">
        <animate attributeName="d" 
          values="M10,15 Q15,5 20,15 Q25,25 30,15;
                  M10,15 Q15,25 20,15 Q25,5 30,15;
                  M10,15 Q15,5 20,15 Q25,25 30,15" 
          dur="3s" repeatCount="indefinite" begin="activeStep2.end" />
      </path>
    </g>
  </g>
  
  <!-- Step 4: Model Fitting with data points animation -->
  <g>
    <circle cx="600" cy="130" r="50" fill="#3a0ca3" fill-opacity="0.2" stroke="#3a0ca3" stroke-width="2">
      <animate attributeName="fill-opacity" values="0.2;0.4;0.2" dur="2s" repeatCount="indefinite" begin="activeStep3.end" />
      <animate attributeName="r" values="50;52;50" dur="2s" repeatCount="indefinite" begin="activeStep3.end" />
    </circle>
    <text x="600" y="120" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Model</text>
    <text x="600" y="140" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Fitting</text>
    
    <!-- Step 4 Icon: Animated model fitting -->
    <g transform="translate(580, 110)">
      <rect x="5" y="5" width="30" height="20" fill="none" stroke="#3a0ca3" stroke-width="1.5" rx="2" ry="2" />
      <path d="M10,15 L15,10 L20,15 L25,12 L30,18" stroke="#3a0ca3" stroke-width="1.5" fill="none">
        <animate attributeName="d" 
          values="M10,15 L15,10 L20,15 L25,12 L30,18;
                  M10,14 L15,11 L20,16 L25,11 L30,17;
                  M10,15 L15,10 L20,15 L25,12 L30,18" 
          dur="4s" repeatCount="indefinite" begin="activeStep3.end" />
      </path>
      <circle cx="15" cy="10" r="2" fill="#3a0ca3" />
      <circle cx="20" cy="15" r="2" fill="#3a0ca3" />
      <circle cx="25" cy="12" r="2" fill="#3a0ca3" />
    </g>
  </g>
  
  <!-- Step 5: Results & Reporting with document animation -->
  <g>
    <circle cx="400" cy="230" r="50" fill="#4cc9f0" fill-opacity="0.2" stroke="#4cc9f0" stroke-width="2">
      <animate attributeName="fill-opacity" values="0.2;0.4;0.2" dur="2s" repeatCount="indefinite" begin="activeStep4.end" />
      <animate attributeName="r" values="50;52;50" dur="2s" repeatCount="indefinite" begin="activeStep4.end" />
    </circle>
    <text x="400" y="220" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Results &</text>
    <text x="400" y="240" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Reporting</text>
    
    <!-- Step 5 Icon: Animated report document -->
    <g transform="translate(380, 210)">
      <rect x="0" y="0" width="30" height="30" fill="none" stroke="#4cc9f0" stroke-width="1.5" rx="2" ry="2" />
      <line x1="5" y1="10" x2="25" y2="10" stroke="#4cc9f0" stroke-width="1.5">
        <animate attributeName="stroke-width" values="1.5;2;1.5" dur="2s" repeatCount="indefinite" begin="activeStep4.end" />
      </line>
      <line x1="5" y1="15" x2="25" y2="15" stroke="#4cc9f0" stroke-width="1.5">
        <animate attributeName="stroke-width" values="1.5;2;1.5" dur="2s" repeatCount="indefinite" begin="activeStep4.end + 0.5s" />
      </line>
      <line x1="5" y1="20" x2="25" y2="20" stroke="#4cc9f0" stroke-width="1.5">
        <animate attributeName="stroke-width" values="1.5;2;1.5" dur="2s" repeatCount="indefinite" begin="activeStep4.end + 1s" />
      </line>
      <line x1="5" y1="25" x2="15" y2="25" stroke="#4cc9f0" stroke-width="1.5">
        <animate attributeName="stroke-width" values="1.5;2;1.5" dur="2s" repeatCount="indefinite" begin="activeStep4.end + 1.5s" />
      </line>
    </g>
  </g>
  
  <!-- Connection arrows with flow animation -->
  <g>
    <!-- Arrow 1-2 -->
    <line x1="170" y1="130" x2="220" y2="130" stroke="#ffffff" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,50;50,0" dur="2s" begin="activeStep1.begin" fill="freeze" />
    </line>
    <polygon points="230,130 220,125 220,135" fill="#ffffff">
      <animate attributeName="opacity" values="0;1" dur="0.5s" begin="activeStep1.begin+1.5s" fill="freeze" />
    </polygon>
    
    <!-- Arrow 2-3 -->
    <line x1="330" y1="130" x2="380" y2="130" stroke="#ffffff" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,50;50,0" dur="2s" begin="activeStep2.begin" fill="freeze" />
    </line>
    <polygon points="390,130 380,125 380,135" fill="#ffffff">
      <animate attributeName="opacity" values="0;1" dur="0.5s" begin="activeStep2.begin+1.5s" fill="freeze" />
    </polygon>
    
    <!-- Arrow 3-4 -->
    <line x1="490" y1="130" x2="540" y2="130" stroke="#ffffff" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,50;50,0" dur="2s" begin="activeStep3.begin" fill="freeze" />
    </line>
    <polygon points="550,130 540,125 540,135" fill="#ffffff">
      <animate attributeName="opacity" values="0;1" dur="0.5s" begin="activeStep3.begin+1.5s" fill="freeze" />
    </polygon>
    
    <!-- Arrow 4-5 -->
    <line x1="600" y1="180" x2="439" y2="230" stroke="#ffffff" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,200;200,0" dur="2s" begin="activeStep4.begin" fill="freeze" />
    </line>
    <polygon points="439,230 447,224 450,232" fill="#ffffff">
      <animate attributeName="opacity" values="0;1" dur="0.5s" begin="activeStep4.begin+1.5s" fill="freeze" />
    </polygon>
    
    <!-- Arrow 3-5 (dashed) -->
    <line x1="440" y1="180" x2="400" y2="180" stroke="#ffffff" stroke-width="2">
      <animate attributeName="stroke-dasharray" values="0,40;40,0" dur="1s" begin="activeStep3.begin+2s" fill="freeze" />
    </line>
    <line x1="400" y1="180" x2="400" y2="230" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,5">
      <animate attributeName="stroke-dasharray" values="0,0;5,5" dur="1s" begin="activeStep3.begin+3s" fill="freeze" />
    </line>
    <polygon points="400,230 395,220 405,220" fill="#ffffff">
      <animate attributeName="opacity" values="0;1" dur="0.5s" begin="activeStep3.begin+4s" fill="freeze" />
    </polygon>
  </g>
  
  <!-- Data flow animation effects -->
  <circle cx="170" cy="130" r="4" fill="#f72585" opacity="0">
    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="activeStep1.begin+1s" repeatCount="1" />
    <animateMotion path="M0,0 L110,0" dur="2s" begin="activeStep1.begin+1s" repeatCount="1" fill="freeze" />
  </circle>
  
  <circle cx="330" cy="130" r="4" fill="#7209b7" opacity="0">
    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="activeStep2.begin+1s" repeatCount="1" />
    <animateMotion path="M0,0 L110,0" dur="2s" begin="activeStep2.begin+1s" repeatCount="1" fill="freeze" />
  </circle>
  
  <circle cx="490" cy="130" r="4" fill="#4361ee" opacity="0">
    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="activeStep3.begin+1s" repeatCount="1" />
    <animateMotion path="M0,0 L110,0" dur="2s" begin="activeStep3.begin+1s" repeatCount="1" fill="freeze" />
  </circle>
  
  <circle cx="600" cy="180" r="4" fill="#3a0ca3" opacity="0">
    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="activeStep4.begin+1s" repeatCount="1" />
    <animateMotion path="M0,0 L-160,50" dur="2s" begin="activeStep4.begin+1s" repeatCount="1" fill="freeze" />
  </circle>
  
  <circle cx="440" cy="180" r="4" fill="#4361ee" opacity="0">
    <animate attributeName="opacity" values="0;1;0" dur="2s" begin="activeStep3.begin+3s" repeatCount="1" />
    <animateMotion path="M0,0 L-40,50" dur="2s" begin="activeStep3.begin+3s" repeatCount="1" fill="freeze" />
  </circle>
  
  <!-- Reset animation to play cycle again -->
  <animate id="resetAnimation" 
      attributeName="opacity" 
      begin="resetAll.end" 
      dur="0.1s"
      values="1;1" 
      onend="document.querySelector('#activeStep1').beginElement()" />
</svg>